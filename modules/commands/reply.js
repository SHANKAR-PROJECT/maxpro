var traloi1 = ["แป , lแปnh cแปงa mรฌnh lร: /",
  "Bแบกn gแปi mรฌnh cรณ viแปc gรฌ khรดng?",
  "mรฌnh rแบฅt sแบตn lรฒng khi ฤฦฐแปฃc phแปฅc vแปฅ bแบกn:3",
  "Mรฌnh lร Maris , rแบฅt vui ฤฦฐแปฃc bแบกn chรบ รฝ tแปi:3",
  "Bแบกn tag mรฌnh cรณ gรฌ khรดng?",
  "๐๐จ๐ญ ๐ฆ๐ฎ๐ ๐๐จ๐ง ๐ก๐๐จ ๐๐ฬฬ๐ญ. ๐๐ฬฬ ๐ญ๐ข๐ฬฬ๐ง ๐๐๐ฆ ๐๐ฬฬ๐ญ, ๐ฌ๐๐ฎ ๐ง๐ฬ๐ฒ ๐๐ฎฬ๐จฬฬ๐ข ๐๐ฆ.",
  "๐๐จฬ๐ง๐ ๐ฌ๐ฬฬ๐ฉ ๐ฏ๐ฬฬ ๐ซ๐จฬฬ๐ข! ๐๐ฆ ๐๐จฬ ๐ง๐๐ฎฬ๐จฬฬ๐ข ๐ญ๐ก๐ฎฬ๐จฬ๐ง๐ ๐๐ก๐ฎฬ๐?",
  "๐๐จฬฃ๐ข ๐๐ฆ ๐๐ก๐ข ๐ฬ ๐๐ค",
  "๐๐ฆ ฤ๐ฬ๐ฒ",
  "Bao phรฒng chแปฅy ฤi bรฉ ฦกi",
  "Anh yรชu em<3",
  "Chแปt ฤi:33",
  "Anh bao phรฒng bรฉ nha?",
  "Bแป mแบน em khรดng cรณ nhร=))",
  "Biแบฟt chรo tรดi khรดng? ฤแป tแป bแบกc ",
  "Anh ฤแปซng lรm vแบญy!!!!!!",
  "Biแบฟt แปn lแบฏm khรดng hแบฃ?",
  "khรดng biแบฟt im lแบญng รaa-.-",
  "แปn รo quรก ฤi im lแบทng hแบฟt, vแป nhร mร cรฃi nhau!",
  "Khรดng thแป cแบฃn ฤฦฐแปฃc bฦฐแปc cแปงa ma gรชm minh",
  "cรนng รฝ chรญ sinh tแปn ฤแบฟn say bu da ฤi bรชn ฤแปng ฤแปi hai ba sรดng pha",
  "khรดng ฤฦฐแปฃc lรm vแบญy nแปฏa nghe, mแบน biแบฟt mแบน bรนn ฤรณ",
   "Troi oi cuu toi co thang no doi hiep toi",
   "Cuu be:<",
    "cรกc ngฦฐแปi bแบฏt nแบกt ta huhu",
     "Cรณ gรฌ khรดng bรขy bi?",
               "reply nhiแปu quรก dแป gรขy thoรกi hรณa ฤรณ",
               "500k bao phรฒng ha?",
               "Trแบฃ lแบกi sแปฑ trong sแบกch cho taoooo",
               "sao may muon cai gi?",
               "may muแปn cรกi gรฌ tแปซ taoooo",
               "tแบกi sao dแป",
               "sao con nรณi dแป",
               "dแปซng, dแปซng lแบกi รก รก",
               "cuu toi, nรณ ฤรฒi hiep toi ne ba con oi",
               "sao cแบญu lรm thแบฟ vแปi tแป? biแบฟt รกc lแบฏm khรดng hแบฃ",
               "ฤรบt vรo ฤi cแบญu",
               "mรฌnh chแปu ฤฦฐแปฃc mร, mแบกnh lรชn cแบญu",
               "sao cแบญu yแบฟu thแบฟ",
               "gรฌ cรณ 1phut ฤรฃ ra rแปi, cแบญu bแป yแบฟu ร=))?",
               "cแบญu yแบฟu xรฌu dแป",
               "ฤแป 30s",
               "yแบฟu=))",
               "sao cแบญu lแบกi lรm vแบญy vแปi tแป",
               "cแบญu thแบญt ฤแปc รกc",
               "Yรชu em <3", 
               "Em lร con bot cute nhแบฅt <3", 
               "chรo bแบกn tรดi lร bot", 
               "bแบกn gแปi tรดi cรณ viแปc gรฌ?", 
               "tรดi yรชu bแบกn vai lon", 
               "Yรชu em <3", 
               "Hi, chaฬo con vฦกฬฃ beฬ:3",
               "Chแปng goฬฃi coฬ viแปc giฬ khรดng?", 
               "Sฦฐฬ duฬฃng callad ฤรชฬ liรชn laฬฃc vฦกฬi admin!", 
               "Em lร bot cute nhแบฅt hรnh tinh", 
               "Nรณi gรฌ thแบฟ con lแปฃn", 
               "Em ฤรขy~~~~", 
               "Yรชu anh  nhแบฅt๐", 
               "Yรชu thฦฐฦกng admin nhแบฅt",
               "Sแปงa",
               "Sao thแบฟ cรดng chรบa", 
               "Chฤm chแป hแปc hรnh ฤi",
               "Bae ฤn cฦกm chฦฐa?", 
               "Tuyแปn phi cรดng nรจ แบก",
               "Lรm ฤฤฉ khรดng แบก? dui lแบฏm", 
               "Nแบฟu cแบญu ฤang cรด ฤฦกn thรฌ chรบng ta cรณ thแป thรnh ฤรดi :3", 
               "ฤang lรm gรฌ vแบญy?", 
               "ฤฦฐแปฃc cแปงa lรณ :)))", 
               "Em dthw nhฦฐ chแปง cแปงa em แบก", 
               "ฤแปซng khen em ngแบกi quรก hรญ hรญ" ,
               "Lรm chแปng em khรดng แบก?", 
                "Cรบt ra", 
               "Cรดng chรบa em sao ฤแบฅy?", 
               "Cรณ gรฌ ฤn khรดng:(( ฤรณi quรกaa", 
               "Yรชu cแบญu nhฦฐ mแปt cแปฑc hรฌnh\nNhแบฅp lรชn nhแบฅp xuแปng hai mรฌnh cรนng rรชn", 
               "Spam cc cรบt", 
               "Yรชu em khรดng?", 
               "Chแปng em ฤรขy rแปi", 
               "Mรy bแป lรm sao รญ@@", 
               "Bแบกn lร nhแบฅt!!!", 
               "Kรชu chi lแบฏm thแบฟ? Bแป thรญch tao rแปi ร :v", 
               "Chแบงn chแป gรฌ chแปng ฦกi em ฤรขyyy", 
               "Chแบงn chแป gรฌ vแปฃ ฦกi anh ฤรขyyy", 
               "Em... Sao em lแบกi nรณi nhแปฏng cรกi lแปi ฤรณ chi zay em?", 
               "Thแบงy dแบกy phแป ri mรaa", 
               "Yeu em rat nhieu ^^", 
               "ฤแป con lแปฃn lรนn :))", 
               "ฤแปฃi xรญ. ฤi แบป cรกi :()", 
               "500k bao phรฒng!!!", 
               "Yeu anh den luy ^^", 
               "Anh quรกt em ร?\nNรณi to thแบฟ รก?",
               "Trแบฃ quแบงn cho em huhu", 
               "Baby, take my hand. I want you to be my husband. Cause you're my Iron Man. And I love you 3000 <3", 
                "cccccccccccccccccccc", 
               "ฤแปซng quรก yรชu mแปt ai ฤรณ, khi chรญnh bแบฃn thรขn bแบกn vแบซn bแป tแปn thฦฐฦกng!", "Bae, em nhu bong hoa. Nhung nguoi hai dau phai ta ๐", 
                "Hรฃy gแปi cho admin tรดi ฤแป ฤฦฐแปฃc yรชu thฦฐฦกng<3", 
               "Hรกt ฤi cho kแบนo ๐ญ"
];

var traloi2 = [
];

var traloi3 = [
  'abc',
  'xyz'
  //trแบฃ lแปi bแบฑng reply bแบฑng cรกi gรฌ thรฌ tรนy thuแปc vรo bแบกn
];

var phrases = [
  'hello bot',
  'hi bot',
  'hey bot',
  'bot'
];

var phrases1 = [
  'jqk'
  //nแบฟu nแปi dung ฤแบงu vรo bแบฑng cรกi gรฌ thรฌ tรนy thuแปc vรo bแบกn
];

function checkForSpecificPhrases(message, phrases) {
  for (let phrase of phrases) {
    if (message.toLowerCase().includes(phrase)) {
      return true; 
    }
  }
  return false;
}

function tagg() {
  var index = Math.floor(Math.random() * traloi1.length);
  return traloi1[index];
}

function replyy() {
  var index = Math.floor(Math.random() * traloi2.length);
  return traloi2[index];
}

function replyy3() {
  var index = Math.floor(Math.random() * traloi3.length);
  return traloi3[index];
}

const fs = require('fs');
const path = './commandStatus.json';

module.exports.config = {
  name: "reply",
  version: "4.0.0",
  hasPermssion: 3,
  credits: "Vtuan",//thay cre edit tแปi mรฌnh lแบฏm b ฦกi
  description: "Cแบฅu hรฌnh cรขu trแบฃ lแปi tแปฑ ฤแปng",
  commandCategory: "Hแป Thแปng",
  usages: "[on/off]",
  cooldowns: 5,
};
const { exec } = require('child_process');
module.exports.handleEvent = async function({ api, event,Users }) {
  if (event.senderID == api.getCurrentUserID()) return;
  const cmdStatus = JSON.parse(fs.readFileSync(path));
  const mentionedUserIds = Object.keys(event.mentions);
  const isBotMentioned = mentionedUserIds.includes(String(api.getCurrentUserID()));
  const isBotReplied = event.messageReply && event.messageReply.senderID == api.getCurrentUserID();
  const isSpecificPhrase = checkForSpecificPhrases(event.body, phrases);
  const isSpecificPhrase1 = checkForSpecificPhrases(event.body, phrases1);
  if (event.senderID == api.getCurrentUserID()) return;
  if(cmdStatus[this.config.name]) {
    if(isBotMentioned || isSpecificPhrase) {
      api.sendMessage(tagg(), event.threadID, event.messageID);
    }
    if(isSpecificPhrase1) {
      api.sendMessage(replyy3(), event.threadID, event.messageID);
    }
    if(isBotReplied) {
      api.sendMessage(replyy(), event.threadID, event.messageID);
    }
  }
};

module.exports.run = async function ({api, event, args}) {
  if(!fs.existsSync(path)) fs.writeFileSync(path, JSON.stringify({}));
  const commandStatus = JSON.parse(fs.readFileSync(path, 'utf-8'));
  switch (args[0]) {
    case "on":
      commandStatus[this.config.name] = true;
      api.sendMessage("ฤรฃ bแบญt chแปฉc nฤng!", event.threadID);
      break;
    case "off":
      commandStatus[this.config.name] = false;
      api.sendMessage("ฤรฃ tแบฏt chแปฉc nฤng!", event.threadID);
      break;
    default:
      api.sendMessage("Bแบกn cแบงn thรชm 'on' hoแบทc 'off' sau lแปnh.", event.threadID, event.messageID);
  }
  fs.writeFileSync(path, JSON.stringify(commandStatus, null, 2));
};
